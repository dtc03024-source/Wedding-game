<!doctype html>
<html lang="ko">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover, user-scalable=no" />
  <title>결혼식장 가는 길 러너</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <div id="app">
    <canvas id="game"></canvas>

    <!-- 상단 HUD -->
    <div id="hud">
      <div class="pill" id="scorePill">점수 <span id="score">0</span></div>
      <button class="pill btn" id="btnGuide" aria-label="길안내 보기">길안내</button>
      <button class="pill btn" id="btnPause" aria-label="일시정지">일시정지</button>
    </div>

    <!-- 시작 화면 -->
    <div class="overlay" id="startOverlay">
      <div class="card">
        <h1>우리 결혼합니다 💍</h1>
        <p class="sub">
          화면을 <b>탭</b>하면 점프!<br/>
          위쪽 안내판(버스→지하철→차량 순서)을 보며 예식장까지 달려가요 🧸🐰
        </p>
        <ul class="tips">
          <li>점수: 장애물 1개 통과할 때마다 <b>+10점</b></li>
          <li>도착: <b>120점</b> 달성 시 엔딩</li>
          <li>안내판: 화면 위쪽(민트)</li>
          <li>장애물: 화면 아래쪽(핑크) — 택시/버스정류장/지하철역</li>
        </ul>
        <button class="primary" id="btnStart">시작하기</button>
        <div class="note">※ 모바일 전용 최적화</div>
      </div>
    </div>

    <!-- 길안내 지도 -->
    <div class="overlay hidden" id="guideOverlay">
      <div class="card wide">
        <div class="row">
          <h2>길안내 지도</h2>
          <button class="ghost" id="btnGuideClose">닫기</button>
        </div>
        <div class="imgWrap">
          <img id="guideImg" src="assets/map.png" alt="결혼식장 길안내 지도" />
        </div>
      </div>
    </div>

    <!-- 게임오버 -->
    <div class="overlay hidden" id="gameOverOverlay">
      <div class="card">
        <h2>앗! 장애물에 걸렸어요 😵</h2>
        <p class="sub">대신… 잠깐 우리 사진 보고 다시 출발! 📸</p>
        <div class="photoFrame">
          <img id="deathPhoto" alt="웨딩 사진" />
        </div>
        <div class="row gap">
          <button class="primary" id="btnRetry">다시 도전</button>
          <button class="ghost" id="btnOpenGuide2">길안내 보기</button>
        </div>
      </div>
    </div>

    <!-- 엔딩 QR 팝업 -->
    <div class="overlay hidden" id="finalOverlay">
      <div class="card">
        <h2>우리 이제 결혼해요 💗</h2>
        <p class="sub">아래 QR로 모바일 청첩장을 확인해 주세요!</p>
        <div class="photoFrame" style="aspect-ratio: 1/1;">
          <img id="qrImg" src="assets/qr.png" alt="모바일 청첩장 QR" />
        </div>
        <div class="row gap">
          <button class="primary" id="btnFinalClose">종료하기</button>
          <button class="ghost" id="btnFinalRestart">처음부터</button>
        </div>
      </div>
    </div>

    <!-- 일시정지 -->
    <div class="overlay hidden" id="pauseOverlay">
      <div class="card">
        <h2>일시정지 ⏸️</h2>
        <p class="sub">잠깐 쉬었다가 다시 달려요!</p>
        <button class="primary" id="btnResume">계속하기</button>
      </div>
    </div>
  </div>

  <script src="game.js"></script>
</body>
</html>
